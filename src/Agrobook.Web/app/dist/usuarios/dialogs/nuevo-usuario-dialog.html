<md-dialog class="fullscreen-dialog">
    <form name="nuevoUsuarioForm" ng-submit="vm.crearNuevoUsuario()">
        <md-toolbar>
            <div class="md-toolbar-tools">
                <h2>Nuevo usuario</h2>
                <span flex></span>
                <md-button class="md-icon-button" ng-click="vm.cancelar()" aria-label="cancelar">
                    <ng-md-icon icon="close"></ng-md-icon>
                </md-button>
            </div>
        </md-toolbar>
        <md-dialog-content>
            <div layout="column" layout-padding>
                <div layout-gt-sm="row">
                    <!-- Avatar -->
                    <md-input-container class="md-block" flex-gt-sm>
                        <label>Imagen de perfil</label>
                        <md-select ng-model="vm.usuario.avatarUrl" name="avatar" required>
                            <md-option ng-repeat="url in vm.avatarUrls" ng-value="url">
                                <img style="height: 50px;" ng-src="{{url}}" alt="Imagen de perfil" />
                            </md-option>
                        </md-select>
                        <div ng-messages="nuevoUsuarioForm.avatar.$error">
                            <div ng-message="required">Debe elegir una imagen de perfil.</div>
                        </div>
                    </md-input-container>
                    <!-- Tipo de usuario -->
                    <md-input-container class="md-block" flex-gt-sm ng-cloak>
                        <label>Tipo de cuenta</label>
                        <md-select ng-model="vm.tipoDeCuenta" name="tipoDeCuenta" required>
                            <md-option ng-repeat="tipoDeCuenta in vm.tiposDeCuenta" ng-value="tipoDeCuenta">
                                {{tipoDeCuenta.desc}}
                            </md-option>
                        </md-select>
                        <div ng-messages="nuevoUsuarioForm.tipoDeCuenta.$error">
                            <div ng-message="required">Debe seleccionar el tipo de cuenta.</div>
                        </div>
                    </md-input-container>
                    <!-- Usuario -->
                    <md-input-container class="md-block" flex-gt-sm>
                        <label>Nombre de usuario</label>
                        <input ng-model="vm.usuario.nombreDeUsuario" name="nombreDeUsuario" required/>
                        <div ng-messages="nuevoUsuarioForm.nombreDeUsuario.$error">
                            <div ng-message="required">Debe elegir un nombre de usuario</div>
                        </div>
                    </md-input-container>
                    <!-- Nombre para mostrar -->
                    <md-input-container class="md-block" flex-gt-sm>
                        <label>Nombre para mostrar</label>
                        <input ng-model="vm.usuario.nombreParaMostrar" name="nombreParaMostrar" required />
                        <div ng-messages="nuevoUsuarioForm.nombreParaMostrar.$error">
                            <div ng-message="required">Debe especificar el nombre para mostrar</div>
                        </div>
                    </md-input-container>
                    <!-- Password -->
                    <md-input-container class="md-block" flex-gt-sm>
                        <label>Contraseña</label>
                        <input ng-model="vm.usuario.password" name="password" required type="password"/>
                        <div ng-messages="nuevoUsuarioForm.password.$error">
                            <div ng-message="required">Debe elegir una contraseña</div>
                        </div>
                    </md-input-container>
                </div>
            </div>
        </md-dialog-content>

        <md-dialog-actions layout="row">
            <md-button ng-cloak type="submit" class="md-primary md-raised" ng-disabled="nuevoUsuarioForm.$invalid || vm.bloquearSubmit">
                {{vm.submitLabel}}
            </md-button>
            <md-button ng-click="vm.cancelar()">Cancelar</md-button>
        </md-dialog-actions>
    </form>
</md-dialog>
